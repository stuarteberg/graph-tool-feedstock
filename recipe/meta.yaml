{% set version = "2.29" %}

package:
  name: graph-tool
  version: {{ version }}

source:
  git_url: https://git.skewed.de/count0/graph-tool
  git_tag: release-{{ version }}

build:
  skip: true  # [win or py != 37]
  number: 0
  detect_binary_files_with_prefix: true

requirements:
  build:
    - libtool
    - autoconf
    - automake
    - pkg-config

    #- {{ compiler("cxx") }}
    - gxx_linux-64         # [linux]
    - clangxx_osx-64 >=8*  # [osx]
    
  host:
    - python
    - numpy
    - boost
    - expat
    - scipy >=1.0
    - cgal 4.14*
    - sparsehash 2.0*
    - cairomm
    - pycairo
    
  run:
    - python
    - boost
    - expat
    - scipy >=1.0
    - {{ pin_compatible('numpy') }}
    - cgal >=4.14
    - sparsehash >=2.0
    - cairomm
    - pycairo

test:
  imports:
    - graph_tool
    - graph_tool.all

about:
  home: https://graph-tool.skewed.de/
  license: GPLv3
  license_file: LICENSE
  summary: Efficient network analysis

extra:
  recipe-maintainers:
    - stuarteberg
